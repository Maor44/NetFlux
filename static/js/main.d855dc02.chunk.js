(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(63)},34:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),l=a(26),r=a.n(l),i=(a(34),a(3)),s=a(4),d=a(6),c=a(5),m=a(7),u=a(11);a(40);function h(e){return n.a.createElement("nav",{className:"navbar navbar-dark bg-dark fixed-top"},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"navbar-brand"},"NetFlux"),n.a.createElement("button",{className:"btn btn-outline-warning my-2 my-sm-0 add-movie-btn",onClick:function(){return t=e.action,void e.openModal(t);var t}},"Add Movie")))}a(42);var p="ADD_MOVIE",v="ADD_MOVIE_ERROR",M="SHOW_DEL_MODAL",b="SHOW_EDIT_MODAL";var E=function(e){return n.a.createElement("div",{className:"col-12 col-sm-10 offset-sm-1 col-md-6 offset-md-0 col-lg-6 col-xl-4"},n.a.createElement("div",{className:"box"},n.a.createElement("img",{src:e.movie.Poster,className:"box-img-top",alt:"poster"}),n.a.createElement("div",{className:"box-body"},n.a.createElement("h5",{className:"box-title"},e.movie.Title),n.a.createElement("div",{className:"box-text"},n.a.createElement("p",null,"Year: ",e.movie.Year),n.a.createElement("p",null,"Genre: ",e.movie.Genre),n.a.createElement("p",null,"Runtime: ",e.movie.Runtime),n.a.createElement("p",null,"Director: ",e.movie.Director))),n.a.createElement("div",{className:"box-buttons"},n.a.createElement("button",{className:"btn btn-danger box-button",onClick:function(){return e.openModal(M,e.movie)}},"Delete"),n.a.createElement("button",{className:"btn btn-info box-button",onClick:function(){return e.openModal(b,e.movie)}},"Edit"))))},f=a(9),w=a.n(f),y=[w.a.get("https://www.omdbapi.com/?&apikey=c8d3ec5b&t=Bumblebee"),w.a.get("https://www.omdbapi.com/?&apikey=c8d3ec5b&t=The Avengers"),w.a.get("https://www.omdbapi.com/?&apikey=c8d3ec5b&t=Escape Room"),w.a.get("https://www.omdbapi.com/?&apikey=c8d3ec5b&t=Venom"),w.a.get("https://www.omdbapi.com/?&apikey=c8d3ec5b&t=Halloween"),w.a.get("https://www.omdbapi.com/?&apikey=c8d3ec5b&t=Thor")];function N(e){var t=e.handleClose,a=e.show,o=e.children,l=a?"modal display-block":"modal display-none";return n.a.createElement("div",{className:l},n.a.createElement("section",{className:"modal-main"},o,n.a.createElement("button",{className:"modal-close",onClick:t},"X")))}var O=function(e){return e.showDelModal?n.a.createElement(N,{show:e.showDelModal,handleClose:e.hideModal},n.a.createElement("h3",{className:"modal-title delete-modal-title"},"Delete ",e.selectedMovie.title,"?"),n.a.createElement("div",{className:"modal-box-buttons delete-modal-buttons"},n.a.createElement("button",{className:"btn btn-danger box-button",onClick:function(){return t=e.selectedMovie.title,e.deleteMovie(t),void e.hideModal();var t}},"Yes"),n.a.createElement("button",{className:"btn btn-info box-button",onClick:e.hideModal},"No"))):null},g=a(13),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.editMovie(a.state),a.props.hideModal()},a.state={Title:"",Year:"",Runtime:"",Director:"",Genre:"",imdbID:"",Poster:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({Title:e.selectedMovie.Title,Year:e.selectedMovie.Year,Runtime:e.selectedMovie.Runtime,Director:e.selectedMovie.Director,Genre:e.selectedMovie.Genre,Poster:e.selectedMovie.Poster,imdbID:e.selectedMovie.imdbID})}},{key:"render",value:function(){return this.props.showEditModal?n.a.createElement(N,{show:this.props.showEditModal,handleClose:this.props.hideModal},n.a.createElement("h3",{className:"modal-title"},"Edit ",this.props.selectedMovie.Title),n.a.createElement("form",{className:"edit-form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"edit-form-group mt-4"},n.a.createElement("label",{htmlFor:"name"},"Name: "),n.a.createElement("input",{type:"text",className:"form-control",name:"Title",onChange:this.handleChange,value:this.state.Title})),n.a.createElement("div",{className:"edit-form-group mt-3"},n.a.createElement("label",{htmlFor:"name"},"Year: "),n.a.createElement("input",{type:"text",className:"form-control",name:"Year",onChange:this.handleChange,value:this.state.Year})),n.a.createElement("div",{className:"edit-form-group mt-3"},n.a.createElement("label",{htmlFor:"name"},"Runtime: "),n.a.createElement("input",{type:"text",className:"form-control",name:"Runtime",onChange:this.handleChange,value:this.state.Runtime})),n.a.createElement("div",{className:"edit-form-group mt-3"},n.a.createElement("label",{htmlFor:"name"},"Director: "),n.a.createElement("input",{type:"text",className:"form-control",name:"Director",onChange:this.handleChange,value:this.state.Director})),n.a.createElement("div",{className:"edit-form-group mt-3"},n.a.createElement("label",{htmlFor:"name"},"Genre: "),n.a.createElement("input",{type:"text",className:"form-control",name:"Genre",onChange:this.handleChange,value:this.state.Genre})),n.a.createElement("div",{className:"edit-form-group mt-3"},n.a.createElement("input",{type:"hidden",className:"form-control",name:"Genre",value:this.state.Poster})),n.a.createElement("input",{type:"submit",className:"btn btn-success box-button mt-3"}))):null}}]),t}(o.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).handleChange=function(e){a.setState({movieName:e.target.value})},a.handleSubmit=function(){var e=a.state.movieName.toLowerCase();a.props.addMovie(e),a.setState({movieName:"",load:!0}),setTimeout(function(){a.setState({load:!1}),a.props.hideModal()},1500)},a.state={movieName:"",load:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.movieName.length<2;return this.props.showAddModal?n.a.createElement(N,{show:this.props.showAddModal,handleClose:this.props.hideModal},n.a.createElement("h3",{className:"modal-title add-modal-title"},"Add New Movie"),n.a.createElement("div",{className:"add-modal form-inline"},n.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},n.a.createElement("label",{htmlFor:"movieName",className:"sr-only"},"Movie Name"),n.a.createElement("input",{type:"text",className:"form-control add-modal-input",name:"movieName",onChange:this.handleChange,placeholder:"Movie Name",value:this.state.movieName})),n.a.createElement("button",{className:"btn btn-primary mb-2 box-button add-modal-btn",onClick:this.handleSubmit,disabled:e},"Add"),n.a.createElement("div",{className:"load-modal",style:this.state.load?{display:"flex"}:{display:"none"}},"wait..."))):null}}]),t}(o.Component);function j(e){return n.a.createElement("div",null,n.a.createElement(N,{show:e.showErrorModel,handleClose:e.hideModal},n.a.createElement("h1",null,e.errorMessage)))}var k=Object(u.b)(function(e){return{showAddModal:e.modals.showAddModal,showDelModal:e.modals.showDelModal,showEditModal:e.modals.showEditModal,showErrorModel:e.modals.showErrorModel,errorMessage:e.modals.errorMessage}},function(e){return{openModal:function(t,a){return e({type:t,payload:a})},hideModal:function(){return e({type:"HIDE_MODAL"})},addMovie:function(t){return e(function(e){return function(t,a){var o;a().moviesList.movies.find(function(t){return o=t.data.Title.toLowerCase()===e.toLowerCase()}),o?t({type:v,payload:"Movie is already here!"}):w.a.get("https://www.omdbapi.com/?&apikey=c8d3ec5b&t="+e).then(function(e){e.data.Error?t({type:v,payload:e.data.Error}):t({type:p,payload:e})})}}(t))},deleteMovie:function(t){return e({type:"DELETE_MOVIE",payload:t})},editMovie:function(t){return e({type:"EDIT_MOVIE",payload:t})}}})(function(e){return n.a.createElement("div",null,n.a.createElement(O,{selectedMovie:e.selectedMovie,hideModal:e.hideModal,showDelModal:e.showDelModal,deleteMovie:e.deleteMovie}),n.a.createElement(D,{selectedMovie:e.selectedMovie,hideModal:e.hideModal,showEditModal:e.showEditModal,editMovie:e.editMovie}),n.a.createElement(C,{showAddModal:e.showAddModal,hideModal:e.hideModal,addMovie:e.addMovie}),n.a.createElement(j,{showErrorModel:e.showErrorModel,hideModal:e.hideModal,errorMessage:e.errorMessage}))}),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){a.props.fetchMovies()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.movies.length>0?this.props.movies.map(function(t){return n.a.createElement(E,{movie:t.data,key:t.data.imdbID,openModal:e.props.openModal,hideModal:e.props.hideModal})}):n.a.createElement("h1",{className:"main-title"},"No Movies Here!");return n.a.createElement("div",null,n.a.createElement(h,{action:"SHOW_ADD_MODAL",openModal:this.props.openModal}),n.a.createElement("div",{className:"container card-list"},n.a.createElement("div",{className:"row"},t),n.a.createElement(k,{selectedMovie:this.props.selectedMovie,hideModal:this.props.hideModal,openModal:this.props.openModal})))}}]),t}(o.Component),x=Object(u.b)(function(e){return{movies:e.moviesList.movies,selectedMovie:e.modals.selectedMovie}},function(e){return{fetchMovies:function(){e(function(e){Promise.all(y).then(function(t){e({type:"FETCH_MOVIES",payload:t})}).catch(function(e){return console.log(e)})})},openModal:function(t,a){return e({type:t,payload:a})},hideModal:function(){return e({type:"HIDE_MODAL"})}}})(_),A=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(x,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(8),T=a(17),S=a(2),L={movies:[],movie:{}},R={showDelModal:!1,showEditModal:!1,showAddModal:!1,showErrorModel:!1,selectedMovie:{},errorMessage:""},H=Object(I.c)({moviesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MOVIES":return Object(S.a)({},e,{movies:t.payload});case"DELETE_MOVIE":return{movies:e.movies.filter(function(e){return t.payload!==e.data.Title})};case"EDIT_MOVIE":e.movies.find(function(e){return e.data.imdbID===t.payload.imdbID?e.data=t.payload:null});var a=Object(T.a)(e.movies);return Object(S.a)({},e,{movies:a});case p:var o=t.payload,n=[].concat(Object(T.a)(e.movies),[o]);return Object(S.a)({},e,{movies:n});default:return e}},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(S.a)({},e,{showDelModal:!0,selectedMovie:{title:t.payload.Title}});case b:return Object(S.a)({},e,{selectedMovie:t.payload,showEditModal:!0});case"SHOW_ADD_MODAL":return Object(S.a)({},e,{showAddModal:!0});case"HIDE_MODAL":return{showDelModal:!1,showEditModal:!1,showAddModal:!1,selectedMovie:{}};case v:return Object(S.a)({},e,{showErrorModel:!0,errorMessage:t.payload});default:return e}}}),V=a(28),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,G=Object(I.e)(H,F(Object(I.a)(V.a)));r.a.render(n.a.createElement(u.a,{store:G},n.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.d855dc02.chunk.js.map